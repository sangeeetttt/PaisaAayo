{"ast":null,"code":"import _defineProperty from\"S:\\\\PaisaAayo\\\\PaisaAayo\\\\FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"S:\\\\PaisaAayo\\\\PaisaAayo\\\\FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"S:\\\\PaisaAayo\\\\PaisaAayo\\\\FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from\"react\";import Spinner from\"react-bootstrap/Spinner\";import{Link,useLocation}from\"react-router-dom\";import{getVasooliByFilter}from\"./../firebase/vasooli\";import fire from\"./../firebase/fire\";import Vasoolicard from\"./../components/vasooli/vasoolicard\";import Empty from\"./../components/general/empty.component\";export default function VasooliV(){var _useState=useState(\"ALL\"),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setfilter=_useState2[1];var _useState3=useState(\"ALL\"),_useState4=_slicedToArray(_useState3,2),SendToCardFilter=_useState4[0],setSendToCardFilter=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),VasooliArr=_useState6[0],setVasooliArr=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setloading=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),user=_useState10[0],setuser=_useState10[1];var loc=useLocation();var getDataFromFB=function getDataFromFB(){var email=user.email;setloading(true);setSendToCardFilter(filter);getVasooliByFilter(email,filter,function(res){var Arr=[];res.forEach(function(item){//console.log(item);\nArr.push(_objectSpread(_objectSpread({},item.data()),{},_defineProperty({},\"id\",item.id)));});console.log(Arr);setVasooliArr(Arr);setloading(false);},function(err){return console.log(err);});};useEffect(function(){setloading(true);fire.auth().onAuthStateChanged(function(user){if(user){setuser(user);getVasooliByFilter(user.email,\"ALL\",function(res){//console.log(res);\nsetVasooliArr(res);setloading(false);},function(err){return console.log(err);});}else{//console.log(\"NO user AUth Change\");\n}});},[loc.pathname]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{marginBottom:\"7px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-sm-6 col-md-6\"},/*#__PURE__*/React.createElement(\"select\",{className:\"custom-select w-100\",value:filter,onChange:function onChange(e){return setfilter(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",{value:\"ALL\"},\"All\"),/*#__PURE__*/React.createElement(\"option\",{value:\"PAY\"},\"Pay your Debt\"),/*#__PURE__*/React.createElement(\"option\",{value:\"ASK\"},\"Ask Loan\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-sm-6 col-md-6 d-flex flex-row\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-info mx-1\",onClick:getDataFromFB},\"Apply\"),/*#__PURE__*/React.createElement(Link,{to:\"/addvasooli\",className:\"btn btn-success mx-1\"},\"New\",/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-plus mx-1\"})))),!loading?VasooliArr.length>0?VasooliArr.map(function(single,index){return/*#__PURE__*/React.createElement(Vasoolicard,{key:index,data:single,filter:SendToCardFilter});}):/*#__PURE__*/React.createElement(Empty,null):/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",role:\"status\",style:{width:\"70px\",height:\"70px\",margin:\"auto\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"sr-only\"},\"Loading...\"))));}","map":{"version":3,"sources":["S:/PaisaAayo/PaisaAayo/FrontEnd/src/pages/vasooli.page.jsx"],"names":["React","Fragment","useEffect","useState","Spinner","Link","useLocation","getVasooliByFilter","fire","Vasoolicard","Empty","VasooliV","filter","setfilter","SendToCardFilter","setSendToCardFilter","VasooliArr","setVasooliArr","loading","setloading","user","setuser","loc","getDataFromFB","email","res","Arr","forEach","item","push","data","id","console","log","err","auth","onAuthStateChanged","pathname","marginBottom","e","target","value","length","map","single","index","width","height","margin"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { getVasooliByFilter } from \"./../firebase/vasooli\";\nimport fire from \"./../firebase/fire\";\nimport Vasoolicard from \"./../components/vasooli/vasoolicard\";\nimport Empty from \"./../components/general/empty.component\";\nexport default function VasooliV() {\n  const [filter, setfilter] = useState(\"ALL\");\n  const [SendToCardFilter, setSendToCardFilter] = useState(\"ALL\");\n  const [VasooliArr, setVasooliArr] = useState([]);\n  const [loading, setloading] = useState(true);\n  const [user, setuser] = useState({});\n  let loc = useLocation();\n  const getDataFromFB = () => {\n    let email = user.email;\n    setloading(true);\n    setSendToCardFilter(filter);\n    getVasooliByFilter(\n      email,\n      filter,\n      (res) => {\n        let Arr = [];\n        res.forEach((item) => {\n          //console.log(item);\n          Arr.push({ ...item.data(), [\"id\"]: item.id });\n        });\n        console.log(Arr);\n        setVasooliArr(Arr);\n        setloading(false);\n      },\n      (err) => console.log(err)\n    );\n  };\n\n  useEffect(() => {\n    setloading(true);\n    fire.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        setuser(user);\n        getVasooliByFilter(\n          user.email,\n          \"ALL\",\n          (res) => {\n            //console.log(res);\n            setVasooliArr(res);\n            setloading(false);\n          },\n          (err) => console.log(err)\n        );\n      } else {\n        //console.log(\"NO user AUth Change\");\n      }\n    });\n  }, [loc.pathname]);\n  return (\n    <Fragment>\n      <div className='row' style={{ marginBottom: \"7px\" }}>\n        <div className='col-6 col-sm-6 col-md-6'>\n          <select\n            className='custom-select w-100'\n            value={filter}\n            onChange={(e) => setfilter(e.target.value)}>\n            <option value='ALL'>All</option>\n            <option value='PAY'>Pay your Debt</option>\n            <option value='ASK'>Ask Loan</option>\n          </select>\n        </div>\n        <div className='col-6 col-sm-6 col-md-6 d-flex flex-row'>\n          <button className='btn btn-outline-info mx-1' onClick={getDataFromFB}>\n            Apply\n          </button>\n          <Link to='/addvasooli' className='btn btn-success mx-1'>\n            New\n            <i className='fa fa-plus mx-1'></i>\n          </Link>\n        </div>\n      </div>\n      {!loading ? (\n        VasooliArr.length > 0 ? (\n          VasooliArr.map((single, index) => (\n            <Vasoolicard key={index} data={single} filter={SendToCardFilter} />\n          ))\n        ) : (\n          <Empty />\n        )\n      ) : (\n        <div className='w-100 d-flex justify-content-center'>\n          <Spinner\n            animation='border'\n            role='status'\n            style={{ width: \"70px\", height: \"70px\", margin: \"auto\" }}>\n            <span className='sr-only'>Loading...</span>\n          </Spinner>\n        </div>\n      )}\n    </Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}