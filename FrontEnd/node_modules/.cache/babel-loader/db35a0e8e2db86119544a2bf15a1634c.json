{"ast":null,"code":"import fire from\"./fire\";import axios from\"axios\";var firebase=fire;//Function to Login the Exsiting user\nexport var FBlogin=function FBlogin(_ref,successFn,errorFn){var email=_ref.email,password=_ref.password;var res;firebase.auth().signInWithEmailAndPassword(email,password).then(function(){//console.log(\"User Logged In\");\nres=firebase.auth().currentUser;successFn(res);}).catch(function(error){errorFn(error);});};//Function to Logout User\nexport var FBlogout=function FBlogout(successFn,errorFn){firebase.auth().signOut().then(successFn).catch(errorFn);};//Function to Create New User\nexport var FBsignup=function FBsignup(_ref2,successFn,errorFn){var randomProfile=_ref2.randomProfile,email=_ref2.email,password=_ref2.password,fullName=_ref2.fullName;//Random Number Gen Logic between 1 to 9 for DP\nvar db=fire.firestore();//Firebase Authentication Signup\nfirebase.auth().createUserWithEmailAndPassword(email,password).then(function(){console.log(\"user created\");var user=firebase.auth().currentUser;user.updateProfile({photoURL:randomProfile.toString()}).then(function(){successFn(firebase.auth().currentUser,randomProfile);}).catch(function(){console.log(\"Error Updating Profile Pic\");});// Pushing to Firestore\ndb.collection(\"users\").doc(user.uid).set({fullName:fullName,address:\"\",balance:0,email:user.email,profilePic:randomProfile.toString()}).then(function(){console.log(\"Pushed to Firestore\");}).catch(function(er){return console.log(er);});}).catch(function(error){console.log(error);errorFn(error);});};//Function to get all user data\nexport var getUserData=function getUserData(uid,successFn,errorFn){var db=fire.firestore();db.collection(\"users\").doc(uid).get().then(function(res){successFn(res.data());}).catch(function(err){return errorFn(err);});};//Updating Document in FB Firestore\nexport var updateUserData=function updateUserData(uid,_ref3,successFn,errorFn){var email=_ref3.email,fullName=_ref3.fullName,profilePic=_ref3.profilePic,address=_ref3.address;var db=fire.firestore();db.collection(\"users\").doc(uid).set({email:email,fullName:fullName,profilePic:profilePic,address:address},{merge:true}).then(successFn).catch(function(err){return errorFn(err);});};//Get Current User\nexport var getCurrentUser=function getCurrentUser(){fire.auth().onAuthStateChanged(function(user){if(user){return user;}else{console.log(\"NO user AUth Change\");}});};//Get all the Users List\nexport var getUserList=function getUserList(successFn,errorFn){fetch(\"https://us-central1-vasoolimoney.cloudfunctions.net/app\").then(function(res){return res.json();}).then(function(res){//console.log(res);\nsuccessFn(res);}).catch(function(err){return errorFn(err);});};","map":{"version":3,"sources":["S:/PaisaAayo/PaisaAayo/FrontEnd/src/firebase/user.jsx"],"names":["fire","axios","firebase","FBlogin","successFn","errorFn","email","password","res","auth","signInWithEmailAndPassword","then","currentUser","catch","error","FBlogout","signOut","FBsignup","randomProfile","fullName","db","firestore","createUserWithEmailAndPassword","console","log","user","updateProfile","photoURL","toString","collection","doc","uid","set","address","balance","profilePic","er","getUserData","get","data","err","updateUserData","merge","getCurrentUser","onAuthStateChanged","getUserList","fetch","json"],"mappings":"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","sourcesContent":["import fire from \"./fire\";\nimport axios from \"axios\";\nconst firebase = fire;\n\n//Function to Login the Exsiting user\nexport const FBlogin = ({ email, password }, successFn, errorFn) => {\n  let res;\n  firebase\n    .auth()\n    .signInWithEmailAndPassword(email, password)\n    .then(() => {\n      //console.log(\"User Logged In\");\n      res = firebase.auth().currentUser;\n      successFn(res);\n    })\n    .catch(function (error) {\n      errorFn(error);\n    });\n};\n\n//Function to Logout User\nexport const FBlogout = (successFn, errorFn) => {\n  firebase.auth().signOut().then(successFn).catch(errorFn);\n};\n\n//Function to Create New User\nexport const FBsignup = (\n  { randomProfile, email, password, fullName },\n  successFn,\n  errorFn\n) => {\n  //Random Number Gen Logic between 1 to 9 for DP\n  const db = fire.firestore();\n  //Firebase Authentication Signup\n  firebase\n    .auth()\n    .createUserWithEmailAndPassword(email, password)\n    .then(() => {\n      console.log(\"user created\");\n      let user = firebase.auth().currentUser;\n      user\n        .updateProfile({\n          photoURL: randomProfile.toString(),\n        })\n        .then(() => {\n          successFn(firebase.auth().currentUser, randomProfile);\n        })\n        .catch(() => {\n          console.log(\"Error Updating Profile Pic\");\n        });\n      // Pushing to Firestore\n      db.collection(\"users\")\n        .doc(user.uid)\n        .set({\n          fullName,\n          address: \"\",\n          balance: 0,\n          email: user.email,\n          profilePic: randomProfile.toString(),\n        })\n        .then(() => {\n          console.log(\"Pushed to Firestore\");\n        })\n        .catch((er) => console.log(er));\n    })\n    .catch(function (error) {\n      console.log(error);\n      errorFn(error);\n    });\n};\n\n//Function to get all user data\nexport const getUserData = (uid, successFn, errorFn) => {\n  const db = fire.firestore();\n  db.collection(\"users\")\n    .doc(uid)\n    .get()\n    .then((res) => {\n      successFn(res.data());\n    })\n    .catch((err) => errorFn(err));\n};\n\n//Updating Document in FB Firestore\nexport const updateUserData = (\n  uid,\n  { email, fullName, profilePic, address },\n  successFn,\n  errorFn\n) => {\n  const db = fire.firestore();\n  db.collection(\"users\")\n    .doc(uid)\n    .set(\n      {\n        email,\n        fullName,\n        profilePic,\n        address,\n      },\n      { merge: true }\n    )\n    .then(successFn)\n    .catch((err) => errorFn(err));\n};\n\n//Get Current User\nexport const getCurrentUser = () => {\n  fire.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      return user;\n    } else {\n      console.log(\"NO user AUth Change\");\n    }\n  });\n};\n\n//Get all the Users List\nexport const getUserList = (successFn, errorFn) => {\n  fetch(\"https://us-central1-vasoolimoney.cloudfunctions.net/app\")\n    .then((res) => res.json())\n    .then((res) => {\n      //console.log(res);\n      successFn(res);\n    })\n    .catch((err) => errorFn(err));\n};\n"]},"metadata":{},"sourceType":"module"}