{"ast":null,"code":"import fire from\"./fire\";//Add new transaction\nexport var addVasooli=function addVasooli(email,_ref,successFn,errorFn){var to=_ref.to,amount=_ref.amount,category=_ref.category,date=_ref.date,desc=_ref.desc,status=_ref.status;var obj={from:email,to:to,amount:amount,category:category,date:date,desc:desc,status:status};var db=fire.firestore();db.collection(\"vasooli\").add(obj).then(function(res){return successFn(res);}).catch(function(err){return errorFn(err);});};//Get Vasooli's by Filter\nexport var getVasooliByFilter=function getVasooliByFilter(email,filter,successFn,errorFn){//email : Logged in USER email\nvar db=fire.firestore();//Setting if else as per filter\nif(filter===\"PAY\"){db.collection(\"vasooli\").where(\"to\",\"==\",email).get().then(function(res){return successFn(res);}).catch(function(err){return errorFn(err);});}else if(filter===\"ASK\"){db.collection(\"vasooli\").where(\"from\",\"==\",email).get().then(function(res){return successFn(res);}).catch(function(err){return errorFn(err);});}else{var Arr=[];db.collection(\"vasooli\").where(\"from\",\"==\",email).get().then(function(res1){res1.forEach(function(item){if(item.exists)Arr.push(item.data());});db.collection(\"vasooli\").where(\"to\",\"==\",email).get().then(function(res2){res2.forEach(function(item){if(item.exists)Arr.push(item.data());});//console.log(Arr);\nsuccessFn(Arr);}).catch(function(err){return errorFn(err);});}).catch(function(err){return errorFn(err);});}};//Add new transaction\nexport var updateVasooliStatus=function updateVasooliStatus(id,_ref2,successFn,errorFn){var status=_ref2.status;var obj={status:status};var db=fire.firestore();//  console.log(id);\ndb.collection(\"vasooli\").doc(id).set(obj,{merge:true}).then(function(res){return successFn(res);}).catch(function(err){return errorFn(err);});};","map":{"version":3,"sources":["S:/PaisaAayo/PaisaAayo/FrontEnd/src/firebase/vasooli.jsx"],"names":["fire","addVasooli","email","successFn","errorFn","to","amount","category","date","desc","status","obj","from","db","firestore","collection","add","then","res","catch","err","getVasooliByFilter","filter","where","get","Arr","res1","forEach","item","exists","push","data","res2","updateVasooliStatus","id","doc","set","merge"],"mappings":"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","sourcesContent":["import fire from \"./fire\";\n\n//Add new transaction\nexport const addVasooli = (\n  email,\n  { to, amount, category, date, desc, status },\n  successFn,\n  errorFn\n) => {\n  let obj = {\n    from: email,\n    to,\n    amount,\n    category,\n    date,\n    desc,\n    status,\n  };\n  const db = fire.firestore();\n  db.collection(\"vasooli\")\n    .add(obj)\n    .then((res) => successFn(res))\n    .catch((err) => errorFn(err));\n};\n\n//Get Vasooli's by Filter\nexport const getVasooliByFilter = (email, filter, successFn, errorFn) => {\n  //email : Logged in USER email\n  const db = fire.firestore();\n  //Setting if else as per filter\n  if (filter === \"PAY\") {\n    db.collection(\"vasooli\")\n      .where(\"to\", \"==\", email)\n      .get()\n      .then((res) => successFn(res))\n      .catch((err) => errorFn(err));\n  } else if (filter === \"ASK\") {\n    db.collection(\"vasooli\")\n      .where(\"from\", \"==\", email)\n      .get()\n      .then((res) => successFn(res))\n      .catch((err) => errorFn(err));\n  } else {\n    let Arr = [];\n    db.collection(\"vasooli\")\n      .where(\"from\", \"==\", email)\n      .get()\n      .then((res1) => {\n        res1.forEach((item) => {\n          if (item.exists) Arr.push(item.data());\n        });\n        db.collection(\"vasooli\")\n          .where(\"to\", \"==\", email)\n          .get()\n          .then((res2) => {\n            res2.forEach((item) => {\n              if (item.exists) Arr.push(item.data());\n            });\n            //console.log(Arr);\n            successFn(Arr);\n          })\n          .catch((err) => errorFn(err));\n      })\n      .catch((err) => errorFn(err));\n  }\n};\n\n//Add new transaction\nexport const updateVasooliStatus = (id, { status }, successFn, errorFn) => {\n  let obj = {\n    status,\n  };\n  const db = fire.firestore();\n  //  console.log(id);\n  db.collection(\"vasooli\")\n    .doc(id)\n    .set(obj, {\n      merge: true,\n    })\n    .then((res) => successFn(res))\n    .catch((err) => errorFn(err));\n};\n"]},"metadata":{},"sourceType":"module"}